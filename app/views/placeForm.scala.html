@(placeForm: Form[PlaceData])(implicit flash: Flash, messages: Messages)
@import helper._
@import controllers.PlaceController


@main("Edit form"){
<link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/placeForm.css")">
}{

<div id="place-details">
    <div id="left-div" class="pull-left">
        @form(action = routes.Application.uploadPlace(), 'enctype -> "multipart/form-data") {
        <fieldset>
            <legend>Add a place</legend>
            <input type="hidden" value="@placeForm("id").value.getOrElse("")" name="id"/>
            @inputText(placeForm("name"), '_label -> "Name", 'placeholder -> "London")
            @inputText(placeForm("country"), '_label -> "Country", 'placeholder -> "United Kingdom")
            @textarea(placeForm("description"), '_label -> "Description", 'placeholder -> "Type a description here")
            @inputFile(placeForm("picture"), '_label -> "Picture")
        </fieldset>
        <div class="pull-right">
            <input type="submit" class="btn btn-success" value="Save place">
            @if(!placeForm("id").value.getOrElse("").isEmpty()){

            <!-- TODO broken link (id field not present in form); also replace with reverse route -->
            <!-- TODO find out how to insert the id field into the place form -->
                <a href="/show/@placeForm("id").value" class="btn btn-default">Cancel</a>
            } else {
                <a href="@routes.Application.showGridView()" class="btn btn-default">Cancel</a>
            }
        </div>
        }
    </div>

    @if(!placeForm("picture").value.getOrElse("").isEmpty()){
        <div id="right-div" class="pull-right">
            <h4>Current picture</h4>
            <!-- TODO broken link (id field not present in form); also replace with reverse route -->
            <img src="/picture/placeForm("id").value" />
        </div>
    }
</div>

}